# @auth0/auth0-acul-react

> A React wrapper SDK for building custom [Auth0 Universal Login](https://auth0.com/docs/customize/universal-login-pages) pages using `auth0-acul-js`.

This package provides **typed React hooks**, **providers**, and **interfaces** for customizing individual screens like `login-id`, `signup-id`, `reset-password`, and more â€” all powered by the vanilla SDK: [`@auth0/auth0-acul-js`](https://www.npmjs.com/package/@auth0/auth0-acul-js).

---

## âœ¨ Why this SDK?

While [`@auth0/auth0-acul-js`](https://www.npmjs.com/package/@auth0/auth0-acul-js) provides the **core ACUL logic**, it is a **vanilla JavaScript SDK**.

This SDK brings that core power into a familiar React environment:

- âœ… **Hooks-first API** (`useLoginId`, `useSignupPassword`, etc.)
- âœ… **Per-screen Providers** (`Auth0AculProvider`) with `useCurrentScreen`
- âœ… **Typed interfaces** with full IntelliSense and dev safety
- âœ… **Partial imports** for tree-shakable bundles
- âœ… Clean integration with Universal Login via CDN upload

In short: **you write React â€” we handle the rest.**

---

## ğŸš€ Installation

```bash
npm install @auth0/auth0-acul-react
```

Peer dependency:
```bash
npm install react
```

---

## ğŸ§± SDK Structure

| Feature                      | Description                                          |
|------------------------------|------------------------------------------------------|
| ğŸ§© **Partial Imports**         | Tree-shakable per-screen modules (âœ… recommended)     |
| ğŸ“¦ **Full Import**            | Lightweight helper utilities (optional)             |
| ğŸ¯ **Screen Hooks**           | Instantiates screen classes (e.g. `useLoginId`)     |
| ğŸ§ª **Providers**              | Shares instance via context (e.g. `Auth0AculProvider`) |
| ğŸ“š **Typed Interfaces**       | Provides types for screen props, data, options      |

---

## ğŸ— Architecture
![Architecture Diagram](./assets/architecture.png)

This diagram provides an overview of how the `@auth0/auth0-acul-react` SDK integrates with the core `@auth0/auth0-acul-js` library and your React application. Each screen is modular, allowing for partial imports and seamless customization.

## ğŸ§­ How to Use

### âœ… **Recommended: Partial Imports (per screen)**

Each screen has its own hook, provider, and types.

#### Example: `login-id`

```tsx
import {
  useLoginId,
  Auth0AculProvider,
  useCurrentScreen
} from '@auth0/auth0-acul-react/login-id';

// âœ… Option 1: Hook-only
const screen = useLoginId();
screen.login({ identifier: 'john@example.com', password: '1234' });

// âœ… Option 2: Provider + context hook
<Auth0AculProvider>
  <LoginForm />
</Auth0AculProvider>

const screen = useCurrentScreen(); // typed as LoginId
```

#### âœ… Interfaces for Type Safety

```ts
import type {
  LoginIdOptions,
  LoginIdProperties,
  LoginIdScreenData
} from '@auth0/auth0-acul-js/login-id';
```

---

### âš ï¸ Full Import (optional utilities only)

```ts
import { getCurrentScreen, useAculScreen } from '@auth0/auth0-acul-react';

const screenKey = getCurrentScreen(); // e.g. "login-id"
const instance = useAculScreen(screenKey); // not typed!
```

> Use only if you're dynamically determining screen type at runtime.
> Prefer partial imports for better typing and smaller bundles.

---

## ğŸ“Š Full vs Partial Imports

| Feature                     | Full Import                      | âœ… Partial Import                  |
|----------------------------|----------------------------------|------------------------------------|
| Tree-shaking               | âŒ Includes all screens           | âœ… Only what you use               |
| Type Inference             | âŒ Not typed                      | âœ… Fully typed                     |
| DX / IntelliSense          | âŒ Limited                        | âœ… Rich completion + hints        |
| Bundle Size                | âŒ Larger                         | âœ… Minimal                         |
| Use Case                   | Rare fallback or util-only use   | âœ… Day-to-day development          |

âœ… **Partial import is the default and recommended pattern.**

---

## ğŸ“ File Structure (Simplified)

```
src/
  hooks/
    login-id.tsx
    signup-id.tsx
    ...
  index.ts               # full import entry
  utils/
docs/
  screens/               # autogenerated markdown docs
```

---

## ğŸ› ï¸ Customizing Screens

To customize a screen:

1. Know your screen type: `login-id`, `signup-id`, `reset-password`, etc.
2. Use the matching hook + types
3. Build and deploy to CDN
4. Update Auth0 with your custom asset URLs

---

## ğŸ“š Docs

Per-screen usage documentation is available in [`docs/screens`](../docs/screens) and is auto-generated.

Example:
- [`docs/screens/login-id.md`](../docs/screens/login-id.md)

---

## ğŸ“¦ Related Packages

| Package                     | Description                            |
|-----------------------------|----------------------------------------|
| [`@auth0/auth0-acul-js`](https://npmjs.com/package/@auth0/auth0-acul-js) | Core JS SDK (framework-agnostic)    |
| `@auth0/auth0-acul-react`   | âœ… This React wrapper SDK               |
| `@auth0/auth0-acul-vue`     | Vue wrapper (coming soon)              |
| `@auth0/auth0-acul-angular` | Angular wrapper (coming soon)          |
| `@auth0/auth0-acul-svelte`  | Svelte wrapper (coming soon)           |
